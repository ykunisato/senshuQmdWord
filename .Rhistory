#| message: false
#| error: false
#| echo: false
library(tidyverse)
library(gtsummary)
library(psych)
library(kableExtra)
library(jtools)
library(ggsignif)
# bfiデータを読み込み
data(bfi)
# bfiの性別(gender)をtableで集計して，データフレーム化，その後ワイド化して，変数名を変更
gender <- data.frame(table(bfi$gender)) %>%
tidyr::spread(Var1, Freq) %>%
rename(male=1,female = 2)
#| message: false
#| error: false
#| echo: false
library(tidyverse)
library(gtsummary)
library(psych)
library(kableExtra)
library(jtools)
library(ggsignif)
# bfiデータを読み込み
data(bfi)
# bfiの性別(gender)をtableで集計して，データフレーム化，その後ワイド化して，変数名を変更
gender <- data.frame(table(bfi$gender)) %>%
tidyr::spread(Var1, Freq) %>%
rename(male=1,female = 2)
# bfiの各Big Five因子を合計して，describe関数で記述統計を計算する。不要なものは除外。
summary_bfi <- bfi %>%
mutate(Agreeableness = A1 + A2 + A3 + A4 + A5,
Conscientiousness = C1 + C2 + C3 + C4 + C5,
Extraversion = E1 + E2 + E3 + E4 + E5,
Neuroticism = N1 + N2 + N3 + N4 + N5,
Openness = O1 + O2 + O3 + O4 + O5) %>%
select(Extraversion,Neuroticism,Conscientiousness,Agreeableness,Openness) %>%
describe() %>%
as_tibble() %>%
select(-vars, -trimmed, -mad, -range, -se)
# kableを使って表を作る（以下のようにやると結構きれいになります）
kable(summary_bfi,
format = "latex",
booktabs = T,
caption = "Descriptive Statistics of bfi",
digits = 2,
col.names = c("n","Mean","SD","Median","Min","Max","Skewness","kurtosis")) %>%
kable_styling(latex_options = c("striped", "hold_position"),full_width = F)
#| message: false
#| error: false
#| echo: false
library(tidyverse)
library(gtsummary)
bfi |>
tbl_svysummary(by = Survived, percent = "row", include = c(Class, Age))
#| message: false
#| error: false
#| echo: false
library(tidyverse)
library(gtsummary)
bfi |>
tbl_svysummary(by = gender, percent = "row", include = c(O1))
#| message: false
#| error: false
#| echo: false
library(tidyverse)
library(gtsummary)
survey::svydesign(~1, data = as.data.frame(Titanic), weights = ~Freq) |>
tbl_svysummary(by = Survived, percent = "row", include = c(Class, Age))
#| message: false
#| error: false
#| echo: false
library(tidyverse)
library(gtsummary)
survey::svydesign(~1, data = bfi, weights = ~Freq) |>
tbl_svysummary(by = Survived, percent = "row", include = c(Class, Age))
#| message: false
#| error: false
#| echo: false
library(tidyverse)
library(gtsummary)
survey::svydesign(~1, data = bfi) |>
tbl_svysummary(by = Survived, percent = "row", include = c(Class, Age))
#| message: false
#| error: false
#| echo: false
library(tidyverse)
library(gtsummary)
tbl_summary(include = c(E1,E2,E3,E4,E5,N1,N2,N3,N4,N5))
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi, include = c(E1,E2,E3,E4,E5,N1,N2,N3,N4,N5))
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(E1,E2,E3,E4,E5,N1,N2,N3,N4,N5),
by = gender,
missing = )
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(E1,E2,E3,E4,E5,N1,N2,N3,N4,N5),
by = gender) |>
add_n()
#| message: false
#| error: false
#| echo: false
bfi |>
mutate(E1 = as.numeric(E1)) |>
tbl_summary(bfi,
include = c(E1,E2,E3,E4,E5,N1,N2,N3,N4,N5),
by = gender) |>
add_n()
#| message: false
#| error: false
#| echo: false
bfi |>
mutate(E1 = as.numeric(E1)) |>
tbl_summary(bfi,
include = c(age,E1,E2,E3,E4,E5,N1,N2,N3,N4,N5),
by = gender) |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,E1,E2,E3,E4,E5,N1,N2,N3,N4,N5),
by = gender) |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,N1,N2,N3,N4,N5),
type = list(N1 ~ "continuous",
N2 ~ "continuous",
N3 ~ "continuous",
N4 ~ "continuous",
N5 ~ "continuous",),
by = gender) |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,N1,N2,N3,N4,N5),
type = list(N1 ~ "continuous",
N2 ~ "continuous",
N3 ~ "continuous",
N4 ~ "continuous",
N5 ~ "continuous"),
by = gender) |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,N1,N2,N3,N4,N5),
type = list(N1 ~ "continuous",
N2 ~ "continuous",
N3 ~ "continuous",
N4 ~ "continuous",
N5 ~ "continuous"),
by = gender,
missing = "no") |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,N1,N2,N3,N4,N5),
statistic = all_continuous() ~ "{mean} ({p25}, {p75})",
type = list(N1 ~ "continuous",
N2 ~ "continuous",
N3 ~ "continuous",
N4 ~ "continuous",
N5 ~ "continuous"),
by = gender,
missing = "no") |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,N1,N2,N3,N4,N5),
statistic = list(all_continuous() ~ "{mean} ({sd})"),
type = list(N1 ~ "continuous",
N2 ~ "continuous",
N3 ~ "continuous",
N4 ~ "continuous",
N5 ~ "continuous"),
by = gender,
missing = "no") |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,N1,N2,N3,N4,N5),
statistic = list(all_continuous() ~ "{mean} ({sd})"),
type = list(N1 ~ "continuous",
N2 ~ "continuous",
N3 ~ "continuous",
N4 ~ "continuous",
N5 ~ "continuous"),
by = gender,
digits = 3,
missing = "no") |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,N1,N2,N3,N4,N5),
statistic = list(all_continuous() ~ "{mean} ({sd})"),
type = list(N1 ~ "continuous",
N2 ~ "continuous",
N3 ~ "continuous",
N4 ~ "continuous",
N5 ~ "continuous"),
by = gender,
format = "~g3",
missing = "no") |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,N1,N2,N3,N4,N5),
statistic = list(all_continuous() ~ "{mean} ({sd})"),
type = list(N1 ~ "continuous",
N2 ~ "continuous",
N3 ~ "continuous",
N4 ~ "continuous",
N5 ~ "continuous"),
by = gender,
digits = 3,
missing = "no") |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,N1,N2,N3,N4,N5),
statistic = list(all_continuous() ~ "{mean} ({sd})"),
type = list(N1 ~ "continuous",
N2 ~ "continuous",
N3 ~ "continuous",
N4 ~ "continuous",
N5 ~ "continuous"),
by = gender,
digits = list(everything() ~ 3),
missing = "no") |>
add_n()
#| message: false
#| error: false
#| echo: false
tbl_summary(bfi,
include = c(age,N1,N2,N3,N4,N5),
statistic = list(all_continuous() ~ "{mean} ({sd})"),
type = list(N1 ~ "continuous",
N2 ~ "continuous",
N3 ~ "continuous",
N4 ~ "continuous",
N5 ~ "continuous"),
by = gender,
digits = list(everything() ~ 2),
missing = "no") |>
add_n()
#| message: false
#| error: false
#| echo: false
#| warning: false
#| out-width: 10cm
# create dummy data
data <- data.frame(
Time=c("Pre","Post"),
mean=c(10,8),
se=c(1,0.8)
)
# Most basic error bar
ggplot(data) +
geom_bar( aes(x=Time, y=mean),stat="identity",fill="grey") +
theme_classic() +
scale_y_continuous(expand=c(0,0)) +
geom_errorbar( aes(x=Time, ymin=mean-se, ymax=mean+se), width=0.1, colour="black", alpha=1, size=0.7)
